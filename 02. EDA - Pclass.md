# 02. EDA - Pclass

> ë°±ë§Œë…„ë§Œì˜...kaggle....ì§„ì§œ..í˜„ìƒ...........ì—ë°”ã„·ã….........ì‚¬ì‹¤ ê·¸ë ‡ê²Œ ë°”ë¹ ì£½ì§€ëŠ” ì•Šì•˜ë‹¤...........ë‹¤ë§Œ...........ë©˜íƒˆì´........ê³ ë©˜ë„¤........... ì¸ì ì„±ë„ ë–¨ì–´ì§€ê³  ì‚¬ì‹¤ ìš”ë²ˆì—ëŠ” íšŒì‚¬ ì§€ì›ì„ ê±°ì˜ ì•ˆí–ˆëŠ”ë° ì‚¼ì„±ì „ì ì„œë¥˜ê°€ ì•ˆë‚˜ì™€ì„œ ë„ì €íˆ gsatì€ ì†ì— ì•ˆì¡íˆê³ ......ì•Œê³ ë¦¬ì¦˜ë„ ì§„ì§œ í•˜ê¸°ì‹«ê³ ........ì‹¸í”¼ì—ì„œë„ ì´ˆì‹¬ì€ ì‚¬ë¼ì§€ê³ ..........ë‚˜íƒœë§Œ 100%ë¡œ ê°€ë“ì°¬ ì‚¬ëŒì´ì˜€ë‹¤........... ( ËƒÌ£Ì£Ì¥á·„âŒ“Ë‚Ì£Ì£Ì¥á·… )  ( ËƒÌ£Ì£Ì¥á·„âŒ“Ë‚Ì£Ì£Ì¥á·… )  ( ËƒÌ£Ì£Ì¥á·„âŒ“Ë‚Ì£Ì£Ì¥á·… ) 
> 100í”„ë¡œ ë°”ê¹¥ëŒì´...ë‚˜ëŠ”......ëŒ€ì „ì—ì„œ..............ì‹¬ì‹¬í•´..........ì£½ëŠ”ë‹¤...............ë§‰ê±¸ë¦¬ë¨¹ì„...........ì¹œêµ¬..........ì ­ì•Œ........

### 1.2 Target label

ìš°ë¦¬ê°€ ê¶ê·¹ì ìœ¼ë¡œ ì•Œê³ ì í•˜ëŠ” ê²ƒì€, 'Survived'. ì¦‰ ìƒì¡´ìœ¨ labelì„ ì•Œê³ ì‹¶ì–´í•œë‹¤. ì–´ë– í•œ í˜•ì‹ìœ¼ë¡œ, ê·¸ë¦¬ê³  ì§€ê¸ˆ ë¶„í¬ê°€ ì–´ë–»ê²Œ ë˜ì–´ìˆëŠ”ì§€ë¥¼ ì•Œë ¤ê³  í•œë‹¤. ë°ì´í„°ì—ì„œ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ ì‹œê°í™”! 

```
f, ax = plt.subplots(1, 2, figsize=(18, 8)) #ë„í™”ì§€ë¥¼ ì¤€ë¹„í•˜ëŠ” ê³¼ì • fëŠ” í–‰ axëŠ” ì—´ì´ë‹¤. 
#subplot(row,column) => í•œê°œì˜ í–‰ì˜ 2ê°œë¡œ ë‚˜ëˆ ì§„ ì—´ì„ ì¤€ë¹„í•œë‹¤ (ê·¸ë˜ì„œ ê°€ë¡œë¡œ 2ê°œì˜ ê·¸ë˜í”„ ì¶œë ¥)

df_train['Survived'].value_counts().plot.pie(explode=[0, 0.1], autopct='%1.1f%%', ax=ax[0], shadow=True)
ax[0].set_title('Pie plot - Survived')
ax[0].set_ylabel('')
sns.countplot('Survived', data=df_train, ax=ax[1])
ax[1].set_title('Count plot - Survived')

plt.show()
```

\- value_counts : ì§€ì •í•´ì¤€ fieldì˜ valueë³„ ê°œìˆ˜ë¥¼ ì•Œë ¤ì¤€ë‹¤. ì¦‰ , survivedëŠ” 0ê³¼ 1ë¡œ ì´ë£¨ì–´ì§„ ë°ì´í„°ì¸ë°, ê°ê°ì˜ ê°’ì´ ì–¼ë§ˆë‚˜ ìˆëŠ”ì§€ë¥¼ ì•Œë ¤ì¤€ë‹¤.

\- plot.pie : íŒŒì´ ê·¸ë˜í”„ë¥¼ ìƒì„±í•˜ëŠ”ë°, ê¸°ë³¸ì€ ì•½ê°„ ì°Œê·¸ëŸ¬ì§„..? ëŠë‚Œì´ë¼ì„œ ë³´ëŠ”ë° ë¶ˆí¸í•˜ë‹¤ expandë¥¼ í†µí•´ì„œ í™•ì¥ì‹œì¼œì£¼ê³ , autopctë¥¼ í†µí•´ì„œ ë‚˜ì˜¤ëŠ” ìˆ˜ì¹˜ì˜ percentë²”ìœ„ë¥¼ ì§€ì •í•´ì¤€ë‹¤.

\- fëŠ” í–‰, axëŠ” ì—´ì„ ì˜ë¯¸í•œë‹¤. ê·¸ë˜ì„œ ax=ax[0]ì€ ê°€ë¡œì˜ 0ë²ˆì§¸ ìë¦¬. ì¦‰ ì²«ë²ˆì§¸ ìë¦¬ì— ê·¸ë¦¼ì„ ê·¸ë¦¬ê² ë‹¤ëŠ” ì˜ë¯¸!

\- set_ylabel('') : yì¶•ì˜ ì´ë¦„ì„ ì—†ì•¤ë‹¤ëŠ” ì„¤ì •!

\- countplotì€ ê° valueì˜ ê°œìˆ˜ë¥¼ ë§‰ëŒ€ê·¸ë˜í”„ë¡œ ë³´ì—¬ì¤€ë‹¤

![img](https://blog.kakaocdn.net/dn/djqghi/btq2t9ADz3O/QoJjQtv3eVMkObHgJNAgUK/img.png)

## 2. EDA ( Exploratory Data Analysis)

### 2.1 Pclass

Pclassë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒì¡´ìœ¨ì´ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ë¥¼ ë¶„ì„ì„ í•´ë³´ì. Pclassë¥¼ ê¸°ì¤€ìœ¼ë¡œí•œ ìƒì¡´ìœ¨ì„ groupbyí•˜ê³ , ê·¸ë˜í”„ë¡œ ë‚˜íƒ€ë‚´ë³´ì.

ğŸš¢ ê° classë³„ ì¸ì› ë°›ì•„ì˜¤ê¸°

```
df_train[['Pclass','Survived']].groupby(['Pclass'],as_index=True).count()
```

\- countë¥¼ í†µí•´ì„œ ê·¸ valueì— í•´ë‹¹í•˜ëŠ” sampleì´ ëª‡ê°œìˆëŠ”ì§€ë¥¼ ì•Œë ¤ì¤€ë‹¤.

\- [[]] ì™€ ê°™ì´ ì´ì¤‘ listë¡œ(ë¦¬ìŠ¤íŠ¸ë¡œ ë°ì´í„°ë¥¼ ë¬¶ì–´ì„œ) fieldë¥¼ ì„¤ì •í•´ì¤˜ì•¼ í•œë‹¤!

\- as_indexëŠ” ë¬¶ì–´ì¤€ fieldë¥¼ indexë¡œ ì„¤ì •í• ì§€ë¥¼ ê²°ì •í•˜ë©°, Trueë¡œ ì„¤ì •í•œë‹¤. 

 => ìœ„ ì²˜ëŸ¼ ì„¤ì •í•´ì¤˜ì•¼, ë‚˜ì¤‘ì— ë°ì´í„° ì²˜ë¦¬ê°€ í¸í•˜ë‹¤!

\- sumì„ ì‚¬ìš©í•  ê²½ìš°, ê° dataë“¤ì˜ í•©ì„ ë°˜í™˜í•œë‹¤.

![img](https://blog.kakaocdn.net/dn/ejcnM2/btq2lrv2VRP/iECgKP1CoNbaagdaORi7s1/img.png)

ğŸˆ meanì„ í†µí•´ ìƒì¡´ìœ¨ êµ¬í•˜ê¸°

```
pd.crosstab(df_train['Pclass'], df_train['Survived'], margins=True).style.background_gradient(cmap='summer')
```

\- meanì„ í†µí•´ì„œ ê° classë³„ ìƒì¡´ìœ¨ì„ ì–»ì„ ìˆ˜ ìˆë‹¤.

\- style.background_gradientë¡œ ë°ì´í„°ì˜ ë²”ìœ„ì— ë”°ë¥¸ ìƒ‰ê°ˆì„ ì„¤ì •í•´ì¤€ë‹¤.

\- cmapì€ color mapìœ¼ë¡œ googleì„ í†µí•´ì„œ ë‹¤ì–‘í•œ í…Œë§ˆë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤!

![img](https://blog.kakaocdn.net/dn/baKyKW/btq2nn7009v/R6tP2kGt0qelvufQGbHau0/img.png)

ğŸ›° ì •ë ¬ & ê·¸ë˜í”„ë¡œ ë‚˜íƒ€ë‚´ê¸°

```
df_train[['Pclass','Survived']].groupby(['Pclass'], as_index=True).mean().sort_values(by='Survived',ascending=False).plot.bar()
```

\- sort_values(by='ê¸°ì¤€', ascending=False)ë¥¼ í†µí•´ì„œ ì •ë ¬ì„ í•œë‹¤. byë’¤ì— ì •ë ¬ ê¸°ì¤€ì„ ì„¤ì •í•˜ê³ , ascending = Falseì´ë©´ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ì´ë‹¤.

![img](https://blog.kakaocdn.net/dn/csl7R0/btq2ryVtX3T/jLBjNjpJUt9j60d5xDxflK/img.png)

ğŸ’µclassì™€ ìƒì¡´ìœ¨ ê´€ê³„ ë¹„êµí•˜ê¸°ğŸ¤•

```
y_position = 1.02
f, ax = plt.subplots(1,2, figsize=(18,8))
df_train['Pclass'].value_counts().plot.bar(color=['#CD7F32','#FFDF00','#D3D3D3'], ax=ax[0])
ax[0].set_title('Number of passengers by Pclass', y=y_position)
ax[0].set_ylabel('Count')
sns.countplot('Pclass', hue='Survived', data=df_train, ax=ax[1])
ax[1].set_title('Pclass:Survived vs Dead',y=y_position)
plt.show()
```

\- ì™¼ìª½ ê·¸ë˜í”„ì—ì„œëŠ” classë³„ ìŠ¹ê°ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” barê·¸ë˜í”„ì´ë‹¤.

\- ì˜¤ë¥¸ìª½ ê·¸ë˜í”„ì—ì„œ ê° classë³„ ìƒì¡´ìì™€ ì‚¬ë§ììˆ˜ë¥¼ ë¹„êµí•˜ì—¬ì„œ ë‚˜íƒ€ë‚¸ë‹¤.

 ì—¬ê¸°ì„œ, hueëŠ” ë‚˜ëˆ ì£¼ëŠ” ê¸°ì¤€ì´ ë˜ëŠ”ê²ƒ ê°™ë‹¤.. sns.countplotì€ seabornì˜ countplotìœ¼ë¡œ íŠ¹ì • labelì— ë”°ë¥¸ í•­ëª©ì˜ ê°œìˆ˜ íŒŒì•…ì— ìœ ë¦¬í•˜ë‹¤.



âœ” ì¦‰, classì´ ë†’ì•„ì§ˆ ìˆ˜ë¡ ìƒì¡´ìœ¨ì´ ë†’ì•„ì§€ê³ , classê°€ ìƒì¡´ìœ¨ì— í° ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” featureì„ì„ íŒŒì•…í•  ìˆ˜ ìˆì—ˆë‹¤!